# Правильное значение временной метки ГЛОНАСС

## Дата: 13 января 2025

## Критическое исправление

В коде использовалось **неправильное** значение временной метки ГЛОНАСС, что препятствовало обнаружению сигналов приёмниками.

## Официальное значение из ICD ГЛОНАСС v5.1

Согласно официальному документу ICD ГЛОНАСС v5.1, временная метка (укороченная ПСП) представляет собой 30-битную последовательность:

```
Бинарное: 111110001101110101000010010110
Hex:      0x3E375096
```

## Характеристики временной метки

- **Длина**: 30 символов
- **Образующий полином**: g(x) = 1 + x³ + x⁵
- **Скорость передачи**: 100 бит/с (10 мс на символ)
- **Общая длительность**: 300 мс

## История исправления

1. **Старое (неправильное) значение**: 0x1B8593A0
2. **Новое (правильное) значение**: 0x3E375096

## Источник информации

Информация получена из официального документа:
- **Файл**: docs/ICD_GLONASS_rus_v5.1.pdf
- **Страница**: Раздел 3.3.2 "Формирование навигационного сообщения"
- **Цитата**: "Двоичный код метки времени представляет собой укороченную двоичную ПС (ПСПМВ) последовательность длиной 30 символов... и имеет вид: 111110001101110101000010010110"

## Влияние на работу приёмников

Без правильной временной метки приёмники ГЛОНАСС не могут:
- Синхронизироваться с навигационным сообщением
- Определить начало строки данных
- Декодировать навигационную информацию

С правильной временной меткой приёмники успешно обнаруживают и обрабатывают сигналы ГЛОНАСС.

## Код реализации

```cpp
void GNavBit::GetTimeMarker(int *TimeMarkerBits)
{
    // Временная метка ГЛОНАСС согласно ICD ГЛОНАСС v5.1:
    // 111110001101110101000010010110b = 0x3E375096
    const unsigned int TIME_MARK = 0x3E375096;
    const int MARK_LENGTH = 30;
    
    for (int i = 0; i < MARK_LENGTH; i++)
    {
        TimeMarkerBits[i] = (TIME_MARK >> (29 - i)) & 1;
    }
}
```