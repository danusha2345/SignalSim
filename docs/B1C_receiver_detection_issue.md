# Особенность детектирования B1C сигнала приёмниками

## Проблема
B1C сигнал BeiDou не детектируется многими приёмниками при отсутствии B1I сигнала.

## Причины

### 1. Частотное разделение
- **B1C**: 1575.42 МГц (совпадает с GPS L1)
- **B1I**: 1561.098 МГц
- Расстояние: ~14.3 МГц

### 2. Алгоритмы поиска приёмников
Многие GNSS приёмники используют B1I-ассистированную стратегию захвата B1C:
1. Сначала ищут B1I сигнал (простая QPSK модуляция, период кода 1 мс)
2. После захвата B1I получают информацию о спутнике и времени
3. Используют когерентность между B1I и B1C для ускоренного поиска B1C

### 3. Технические различия сигналов
| Параметр | B1I | B1C |
|----------|-----|-----|
| Модуляция | QPSK | BOC(1,1) + QMBOC(6,1,4/33) |
| Период кода | 1 мс | 10 мс |
| Пилот-сигнал | Нет | Есть |
| Вторичный код | NH код (MEO/IGSO) | Есть |

### 4. Преимущества B1I-ассистированного захвата
- **Уменьшение времени захвата**: на 31.4% быстрее для статического PPP
- **Улучшенный захват слабых сигналов**: особенно важно при холодном старте
- **Использование когерентности**: B1I и B1C передаются с одного спутника синхронно
- **Решение проблемы неоднозначности BOC**: B1I помогает разрешить боковые пики BOC

### 5. Двухэтапная стратегия захвата
Современные приёмники используют двухэтапный подход:
1. **Этап 1**: Быстрый захват B1I (1 мс корреляция)
2. **Этап 2**: Использование данных B1I для направленного поиска B1C

## Решения

### Для генерации тестовых сигналов
1. **Генерировать B1I+B1C вместе:**
   ```bash
   ./IFdataGen presets/BDS_B1I_B1C_dual.json
   ```
   Требуется полоса 20 МГц, центр 1568.259 МГц

2. **Использовать приёмники с полной поддержкой B1C:**
   - Современные multi-GNSS приёмники
   - Приёмники с явной поддержкой BeiDou-3

### Технические детали
- Это не ошибка в генерации сигнала
- Сгенерированный B1C сигнал корректен
- Проблема в алгоритмах поиска конкретных приёмников

## Рекомендации
Для тестирования B1C рекомендуется:
1. Всегда включать B1I при тестировании B1C
2. Использовать современные приёмники с поддержкой BeiDou-3
3. Проверять спецификации приёмника на поддержку standalone B1C

## Техническое обоснование
Согласно исследованиям:
- B1I и B1C сигналы в BDS-3 передаются когерентно с одного спутника
- Приёмники используют эту когерентность для cross-assisted tracking
- B1C имеет более сложную структуру (BOC модуляция, 10 мс период) по сравнению с B1I
- Для холодного старта требуется длительная когерентная интеграция (до 628 мс)
- B1I-ассистированный захват значительно ускоряет процесс и улучшает надёжность